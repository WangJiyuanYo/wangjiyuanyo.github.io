(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{379:function(t,a,s){"use strict";s.r(a);var n=s(6),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"spring-源码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spring-源码"}},[t._v("#")]),t._v(" Spring 源码")]),t._v(" "),s("h2",{attrs:{id:"spring两大核心-ioc-aop"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spring两大核心-ioc-aop"}},[t._v("#")]),t._v(" Spring两大核心：IOC　AOP")]),t._v(" "),s("p",[t._v("１.聊聊Spring")]),t._v(" "),s("p",[t._v("２.Bean的生命周期")]),t._v(" "),s("p",[t._v("３.循环依赖")]),t._v(" "),s("p",[t._v("４.三级缓存")]),t._v(" "),s("p",[t._v("５.FactoryBean")]),t._v(" "),s("h2",{attrs:{id:"ioc容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ioc容器"}},[t._v("#")]),t._v(" IOC容器")]),t._v(" "),s("p",[t._v("存放各种Bean")]),t._v(" "),s("h4",{attrs:{id:"创建对象的几种方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建对象的几种方式"}},[t._v("#")]),t._v(" 创建对象的几种方式")]),t._v(" "),s("p",[t._v("１.new")]),t._v(" "),s("p",[t._v("2.工厂（构造方法）")]),t._v(" "),s("p",[t._v("3.反射")]),t._v(" "),s("h3",{attrs:{id:"ioc如何创建对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ioc如何创建对象"}},[t._v("#")]),t._v(" IOC如何创建对象")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 第一种方式 --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("bean")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("bean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 第二种方式 --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("bean")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("constructor-arg")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("constructor-arg")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("bean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n")])])]),s("p",[s("strong",[t._v("反射与工厂")])]),t._v(" "),s("p",[t._v('1.反射生成对象的基本方式\n(1)   Class clazz =  Class.forName("完全限定名")')]),t._v(" "),s("p",[t._v("​\t (2)   Class clazz =对象.getClass")]),t._v(" "),s("p",[t._v("​\t(3)\tClass clazz = 类.class")]),t._v(" "),s("p",[t._v("Bean的创建生命周期")]),t._v(" "),s("p",[t._v("class ---\x3e 构造方法 ---\x3e 实例化 ---\x3e对象---\x3e属性填充(eg.@Autowried DI)---\x3e初始化[afterPropertiesSet](#afterPropertiesSet 接口) --\x3eAOP---\x3e放入单例池---\x3eBean")]),t._v(" "),s("p",[t._v("BeanFactory创建对象")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Constructor")]),t._v("  ctor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" classz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDeclareConstructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" obj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("newInstance")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("执行完后实例化了对象")]),t._v(" "),s("p",[s("strong",[t._v("PostProcessor：增强器 or 后置处理器")]),t._v(" -> 为了扩展实现")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/WangJiyuanYo/typora-images/main/image-20210322220918321.png",alt:"image-20210322220918321"}})]),t._v(" "),s("h3",{attrs:{id:"执行流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#执行流程"}},[t._v("#")]),t._v(" 执行流程")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/WangJiyuanYo/typora-images/main/image-20210321231443260.jpg",alt:"image-20210321231443260"}})]),t._v(" "),s("h3",{attrs:{id:"bean的生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bean的生命周期"}},[t._v("#")]),t._v(" Bean的生命周期")]),t._v(" "),s("h4",{attrs:{id:"单例bean"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#单例bean"}},[t._v("#")]),t._v(" 单例Bean")]),t._v(" "),s("p",[t._v("根据相同的名字，返回同一个对象（不等于单例模式：同一个对象只能创建一次）")]),t._v(" "),s("p",[t._v("单例池：CurrentHashMap<beanName,单例Bean对象>")]),t._v(" "),s("h3",{attrs:{id:"something"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#something"}},[t._v("#")]),t._v(" Something")]),t._v(" "),s("h4",{attrs:{id:"afterpropertiesset-接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#afterpropertiesset-接口"}},[t._v("#")]),t._v(" afterPropertiesSet 接口")]),t._v(" "),s("p",[s("code",[t._v("InitializingBean")]),t._v(" 接口中的"),s("code",[t._v("afterPropertiesSet")]),t._v(" 方法会在初始化Bean后执行方法")]),t._v(" "),s("p",[t._v("调用方式：对象 "),s("code",[t._v("instanceof")]),t._v(" InitializingBean 若存在"),s("code",[t._v("afterPropertiesSet")]),t._v(" 则执行内部的方法")]),t._v(" "),s("h4",{attrs:{id:"beanpsotprocessor"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#beanpsotprocessor"}},[t._v("#")]),t._v(" BeanPsotProcessor")]),t._v(" "),s("p",[t._v("一种机制")]),t._v(" "),s("p",[t._v("属性填充和AOP基于此机制实现")])])}),[],!1,null,null,null);a.default=e.exports}}]);