(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{367:function(s,a,t){"use strict";t.r(a);var e=t(6),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[s._v("#")]),s._v(" Docker")]),s._v(" "),t("h1",{attrs:{id:"二-docker的基本操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二-docker的基本操作"}},[s._v("#")]),s._v(" 二.Docker的基本操作")]),s._v(" "),t("h2",{attrs:{id:"_2-1安装dockers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1安装dockers"}},[s._v("#")]),s._v(" 2.1安装Dockers")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(". "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装yum命令")]),s._v("\nyum -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" yum-utils   \t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装工具包")]),s._v("\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#想安装Docker，需要先将依赖的环境全部下载下来，就像Maven依赖JDK一样")]),s._v("\nyum -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" yum-utils device-mapper-persistent-data lvm2\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1.设置Dockers镜像源")]),s._v("\nyum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4安装成功后，需要手动启动，设置为开机启动，并测试一下 Docker")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动docker服务")]),s._v("\nsystemctl start docker\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置开机自动启动")]),s._v("\nsystemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" docker\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#测试")]),s._v("\ndocker run hello-world\n")])])]),t("h2",{attrs:{id:"_2-2docker的中央仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2docker的中央仓库"}},[s._v("#")]),s._v(" 2.2Docker的中央仓库")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改配置文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/docker/daemon.json\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"registry-mirrors"')]),s._v(":"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://registry.docker-cn.com"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"insecure-registries"')]),s._v(":"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ip:port"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用公共仓库")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DOCKER_OPTS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"--registry-mirror=http://yourRegist.m.daocloud.io"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DOCKER_OPTS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"--registry-mirror=http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重启两个服务")]),s._v("\nsystemctl daemon-reload\nsystemctl restart docker\n")])])]),t("h3",{attrs:{id:"国内可用加速服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#国内可用加速服务"}},[s._v("#")]),s._v(" 国内可用加速服务")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/docker/daemon.json\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 中科大镜像")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"registry-mirrors"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://docker.mirrors.ustc.edu.cn"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#阿里云镜像")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /etc/docker\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tee")]),s._v(" /etc/docker/daemon.json "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<-")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'EOF\'\n{\n  "registry-mirrors": ["https://332attgo.mirror.aliyuncs.com"]\n}\nEOF')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl daemon-reload\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart docker\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("systemctl daemon-reload\nsystemctl restart docker\n")])])]),t("h2",{attrs:{id:"_2-3镜像的操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3镜像的操作"}},[s._v("#")]),s._v(" 2.3镜像的操作")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1.拉取镜像到本地")]),s._v("\ndocker pull 镜像名称"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(":tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#例子")]),s._v("\ndocker pull daocloud.io/library/nginx:latest  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#拉取Nginx")]),s._v("\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2.查看本地全部镜像")]),s._v("\ndocker images\n")])])]),t("p",[t("img",{attrs:{src:"C:%5CUsers%5C79443%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200818001627538.png",alt:"image-20200818001627538"}})]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3.删除本地镜像")]),s._v("\ndocker rmi 镜像的标识，Image ID\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#4.镜像的导入导出（不规范）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将本地镜像导出")]),s._v("\ndocker save -o 导出的路径 镜像id\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#加载本地镜像")]),s._v("\ndocker load -i 镜像文件\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改镜像名称")]),s._v("\ndocker tag 镜像id 新镜像名称:tag\n")])])]),t("h2",{attrs:{id:"_2-4容器的操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4容器的操作"}},[s._v("#")]),s._v(" 2.4容器的操作")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("运行容器需要定制具体镜像，如果镜像不存在，会直接下载\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1简单操作")]),s._v("\ndocker run 镜像的标识"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("镜像的名称"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(":tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#常用的参数")]),s._v("\ndocker run -d -p 宿主机端口:容器端口 --name 容器名称 镜像的标识"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("镜像名称"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(":tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-d:代表后台运行容器")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-p 宿主机端口:容器端口：为了映射当前Linux的端口和容器的端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#--name 容器名称:指定容器的名称")]),s._v("\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2查看全部正在运行的容器信息")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-qa"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-a 查看全部的容器，包括没有运行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-q 只查看容器的标识")]),s._v("\n")])])]),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3查看容器的日志")]),s._v("\ndocker logs -f IMAGEID\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-f:滚动查看后几行")]),s._v("\n")])])]),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#4.进入到容器内部")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it 容器ID "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n")])])]),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#5.删除容器")]),s._v("\ndocker stop 容器ID  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#停止指定容器")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" 镜像ID "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除指定容器")]),s._v("\n\ndocker stop "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -qa"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#停止全部容器")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -qa"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除全部容器")]),s._v("\n")])])]),t("hr"),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#6.启动容器")]),s._v("\ndocker start 容器id\n")])])]),t("h1",{attrs:{id:"三-docker应用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三-docker应用"}},[s._v("#")]),s._v(" 三.Docker应用")]),s._v(" "),t("h2",{attrs:{id:"_3-1准备ssm工程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1准备ssm工程"}},[s._v("#")]),s._v(" 3.1准备SSM工程")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#运行Tomcat容器，为部署ssm工程做准备")]),s._v("\n \ndocker run -d -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":8080 --name tomcat  daocloud.io/library/tomcat:8.5.15-jre8\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#或者已经下载了tomcat镜像")]),s._v("\ndocker run -d -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":8080 --name tomcat 镜像的标识\n")])])]),t("h2",{attrs:{id:"_3-2准备mysql容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2准备mysql容器"}},[s._v("#")]),s._v(" 3.2准备Mysql容器")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("docker pull mysql/mysql-server:8.0\n\n docker volume create helloworld\n \n docker run -d -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_ROOT_PASSWORD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root -v helloworld:/var/lib/mysql -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(":3306 mysql:8.0\n\ndocker run -d -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(":3306 --name mysql -e MYSQL-ROOT-PASSWORD"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root e1c\n")])])]),t("h2",{attrs:{id:"_3-3准备tomcat容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3准备tomcat容器"}},[s._v("#")]),s._v(" 3.3准备Tomcat容器")]),s._v(" "),t("h1",{attrs:{id:"容器的另类操作-操作容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器的另类操作-操作容器"}},[s._v("#")]),s._v(" 容器的另类操作（操作容器）")]),s._v(" "),t("h2",{attrs:{id:"tomcat管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tomcat管理"}},[s._v("#")]),s._v(" Tomcat管理")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it 容器id /bin/bash "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#会进入tomcat目录，查看webapps发现是空文件夹，webapps.dist有内容，删除webapps，重命名webapps.dist为webapps")]),s._v("\n")])])]),t("h1",{attrs:{id:"四-docker-容器管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四-docker-容器管理"}},[s._v("#")]),s._v(" 四.Docker 容器管理")]),s._v(" "),t("h3",{attrs:{id:"查看docker容器详情"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看docker容器详情"}},[s._v("#")]),s._v(" 查看Docker容器详情")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("docker inspect "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),t("h3",{attrs:{id:"进入容器目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#进入容器目录"}},[s._v("#")]),s._v(" 进入容器目录")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v(" docker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 上一个步骤中的PATH")]),s._v("\n")])])]),t("h3",{attrs:{id:"定时重启docker容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定时重启docker容器"}},[s._v("#")]),s._v(" 定时重启Docker容器")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 例如：此shell 脚本名为jd.sh")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#! /bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"重启京东镜像"')]),s._v("\ndocker restart "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("容器ID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$?")]),s._v(" -eq "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"执行成功!"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" jd_run.log\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"执行失败"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" jd_run.log\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"重启完毕"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" jd_run.log\n")])])]),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#加入定时任务的sh路径脚本")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" * * * /root/docker_sh/jd.sh\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" -l "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看定时任务")]),s._v("\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);